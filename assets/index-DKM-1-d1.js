(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();async function c(t){try{const e=await fetch(`https://212.60.21.216:3000/coords?lat=${t}`);if(!e.ok)throw new Error("Failed to fetch coordinates");return(await e.json()).coords}catch(e){return console.error("There was a problem with the fetch operation:",e),[]}}async function s(){const t=document.getElementById("map");if(!t)throw new Error("Map element not found");await ymaps3.ready;const{YMap:e,YMapDefaultSchemeLayer:a,YMapDefaultFeaturesLayer:n}=ymaps3,o={center:[45,55],zoom:4.5};return new e(t,{location:o},[new a({}),new n({})])}async function l(t,e){const[a,n]=await Promise.all([t,c(e)]);if(n.length===0)return;const{YMapFeature:o}=ymaps3,r=new o({id:"polygon",geometry:{type:"Polygon",coordinates:[n]},style:{stroke:[{width:1,color:"rgb(219, 14, 14)"}],fill:"rgba(126, 30, 30, 0.5)"}});a.addChild(r)}function d(){const t=new URLSearchParams(window.location.search),e=parseFloat((t==null?void 0:t.get("lat"))??"");return isNaN(e)?null:e}function u(t){const e=document.getElementById("latitude");e&&(e.innerText=`Зона активности бури: ${t}° геомагнитной широты`)}function f(){document.getElementById("loader").remove();const e=document.getElementById("content");e.style.visibility="visible"}function m(){const t=d();t!==null&&u(t);const e=s();t!==null&&l(e,t),e.then(f)}m();
